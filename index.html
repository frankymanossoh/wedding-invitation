<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Pernikahan Online Aulia & Hilmi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Great+Vibes&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="text-text-dark">

    <div id="messageBox" class="message-box"></div>

    <div class="fixed top-1/2 right-0 -translate-y-1/2 z-[1000] flex flex-col gap-3"> <button id="musicToggleSide" class="bg-primary-600 text-white p-3 rounded-l-lg shadow-lg transition duration-300 hover:scale-105 transform -translate-x-0 hover:-translate-x-1">
            <i class="fas fa-music"></i> Music
        </button>
        <button id="qrCodeToggleSide" class="bg-primary-600 text-white p-3 rounded-l-lg shadow-lg transition duration-300 hover:scale-105 transform -translate-x-0 hover:-translate-x-1">
            <i class="fas fa-qrcode"></i> QR Code
        </button>
    </div>

    <div id="musicPopup" class="music-popup-overlay hidden">
        <div class="music-popup-content relative">
            <button class="close-popup absolute top-4 right-4 text-gray-700 hover:text-red-600 z-50">
                <i class="fas fa-times-circle text-3xl"></i>
            </button>
            <div class="popup-inner-bg relative p-6 md:p-8 rounded-lg shadow-xl overflow-hidden">
                <h3 class="text-center text-2xl md:text-3xl font-display-serif text-text-dark mb-4">Music</h3>
                <p class="text-sm text-center text-gray-500 mb-4">
                    Beberapa browser tidak mendukung fitur autoplay. Gunakan browser seperti Chrome, Firefox, dll.
                </p>
                <div class="video-container relative">
                    <div id="youtube-player" class="absolute top-0 left-0 w-full h-full"></div>
                </div>
                <div class="flex justify-center items-center mt-6">
                    <button class="music-control-button p-3 rounded-full bg-primary-500 text-white shadow-md hover:bg-primary-600 transition-colors duration-200" id="playPauseButton">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
                <div class="text-center mt-6">
                    <button class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full inline-flex items-center">
                        <i class="fab fa-youtube mr-2"></i> Subscribe Channel
                    </button>
                    <button class="close-popup ml-4 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-full">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <section id="home" class="hero-section relative overflow-hidden">
        <div class="hero-overlay"></div>

        <div class="bird-element animate-float">
            <img src="https://placehold.co/80x80/transparent/transparent.png?text=Bird_Art" alt="Flying Bird" class="w-20 h-20">
        </div>

        <div class="hero-content relative z-20 text-center text-white">
            <p class="text-xl md:text-2xl font-medium mb-2 animate-fade-in-up font-display-serif">The Wedding of</p>
            <h1 class="text-5xl md:text-7xl font-bold leading-tight tracking-wider animate-scale-in font-great-vibes">Aulia & Hilmi</h1>
            <p class="text-2xl md:text-3xl font-light mb-8 animate-fade-in-up delay-200 font-display-serif">07 . 12 . 2024</p>
            <button onclick="scrollToSection('event-details')" class="bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 animate-pop-in">
                Lihat Detail Acara <i class="fas fa-arrow-down ml-2"></i>
            </button>
        </div>
        <div class="particle-container"></div>
    </section>

    <nav class="py-4 sticky top-0 z-50 transition-all duration-300">
        <div class="max-w-4xl mx-auto flex justify-center space-x-6 md:space-x-12">
            <a href="#home" class="text-text-light hover:text-primary-600 font-medium transition duration-200"><i class="fas fa-home mr-1"></i> Home</a>
            <a href="#our-story" class="text-text-light hover:text-primary-600 font-medium transition duration-200"><i class="fas fa-heart mr-1"></i> Kisah Kami</a>
            <a href="#event-details" class="text-text-light hover:text-primary-600 font-medium transition duration-200"><i class="fas fa-calendar-alt mr-1"></i> Acara</a>
            <a href="#rsvp" class="text-text-light hover:text-primary-600 font-medium transition duration-200"><i class="fas fa-check-circle mr-1"></i> Konfirmasi Hadir</a>
            <a href="#gallery" class="text-text-light hover:text-primary-600 font-medium transition duration-200"><i class="fas fa-images mr-1"></i> Galeri</a>
            <a href="#greetings" class="text-text-light hover:text-primary-600 font-medium transition duration-200"><i class="fas fa-comments mr-1"></i> Ucapan</a>
        </div>
    </nav>

    <section id="our-story" class="section text-center bg-white shadow-lg rounded-lg my-8 p-8 animate-fade-in">
        <h2 class="text-3xl font-bold text-primary-700 mb-4 font-display-serif">Kisah Cinta Kami</h2>
        <div class="flower-divider"></div>
        <div class="space-y-6 text-text-dark max-w-2xl mx-auto">
            <div class="text-center mb-4">
                <i class="fas fa-heart text-primary-500 text-3xl animate-pulse-slow"></i>
            </div>
            <p class="leading-relaxed text-lg">
                Kami bertemu pertama kali di sebuah kafe buku yang sepi pada musim gugur. Sejak pertemuan pertama itu, percakapan kami mengalir tanpa henti, dan kami tahu bahwa ada sesuatu yang istimewa di antara kami. Setiap tawa, setiap cerita, dan setiap momen yang kami bagi semakin memperkuat ikatan ini.
            </p>
            <div class="flower-divider-small"></div>

            <div class="flex flex-col md:flex-row items-center justify-center gap-6 mt-6">
                <div class="story-card text-center p-4 rounded-lg shadow-md border border-primary-100 bg-secondary-50 transform hover:scale-105 transition duration-300">
                    <i class="far fa-calendar-alt text-primary-600 text-3xl mb-2"></i>
                    <p class="font-semibold text-lg">Pertemuan Pertama</p>
                    <p class="text-base text-text-light">23 Maret 2020</p>
                </div>
                <div class="hidden md:block text-primary-400 text-4xl">→</div>
                <div class="block md:hidden h-px w-10 bg-primary-400 my-4"></div>

                <div class="story-card text-center p-4 rounded-lg shadow-md border border-primary-100 bg-secondary-50 transform hover:scale-105 transition duration-300">
                    <i class="fas fa-ring text-primary-600 text-3xl mb-2"></i>
                    <p class="font-semibold text-lg">Lamaran</p>
                    <p class="text-base text-text-light">14 Februari 2023</p>
                </div>
                <div class="hidden md:block text-primary-400 text-4xl">→</div>
                <div class="block md:hidden h-px w-10 bg-primary-400 my-4"></div>

                <div class="story-card text-center p-4 rounded-lg shadow-md border border-primary-100 bg-secondary-50 transform hover:scale-105 transition duration-300">
                    <i class="fas fa-heart text-primary-600 text-3xl mb-2"></i>
                    <p class="font-semibold text-lg">Cinta Abadi</p>
                    <p class="text-base text-text-light">Selamanya...</p>
                </div>
            </div>
            <p class="leading-relaxed text-lg mt-6">
                Kini, setelah sekian lama, kami siap untuk memulai babak baru dalam hidup kami. Kami sangat berbahagia bisa berbagi momen spesial ini bersama orang-orang terkasih.
            </p>
        </div>
    </section>

    <section id="event-details" class="section text-center bg-secondary-50 rounded-lg my-8 p-8 shadow-lg animate-fade-in">
        <h2 class="text-3xl font-bold text-primary-700 mb-6 font-display-serif">Detail Acara</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
            <div class="bg-white p-6 rounded-lg shadow-md animate-fade-in-up border-b-4 border-primary-300 hover:border-primary-500 transition duration-300">
                <i class="fas fa-church text-4xl text-primary-500 mb-4"></i>
                <h3 class="text-2xl font-semibold text-primary-600 mb-3 font-display-serif">Akad Nikah / Pemberkatan</h3>
                <p class="text-lg mb-2"><i class="far fa-calendar-alt mr-2 text-primary-500"></i>Sabtu, 28 September 2025</p>
                <p class="text-lg mb-2"><i class="far fa-clock mr-2 text-primary-500"></i>Pukul: 09:00 WIB</p>
                <p class="text-text-light mb-4">
                    <i class="fas fa-map-marker-alt mr-2 text-primary-500"></i>Gereja Katedral Jakarta<br>
                    Jl. Katedral No.7, Ps. Baru, Sawah Besar, Kota Jakarta Pusat
                </p>
                <a href="http://maps.google.com/?q=Gereja Katedral Jakarta" target="_blank" class="text-primary-500 hover:text-primary-700 underline font-medium inline-flex items-center">Lihat di Google Maps <i class="fas fa-external-link-alt ml-2 text-sm"></i></a>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-md animate-fade-in-up delay-200 border-b-4 border-primary-300 hover:border-primary-500 transition duration-300">
                <i class="fas fa-ring text-4xl text-primary-500 mb-4"></i>
                <h3 class="text-2xl font-semibold text-primary-600 mb-3 font-display-serif">Resepsi Pernikahan</h3>
                <p class="text-lg mb-2"><i class="far fa-calendar-alt mr-2 text-primary-500"></i>Sabtu, 28 September 2025</p>
                <p class="text-lg mb-2"><i class="far fa-clock mr-2 text-primary-500"></i>Pukul: 13:00 - Selesai WIB</p>
                <p class="text-text-light mb-4">
                    <i class="fas fa-map-marker-alt mr-2 text-primary-500"></i>Balai Kartini<br>
                    Jl. Gatot Subroto No.Kav. 37, Kuningan, Jakarta Selatan
                </p>
                <a href="http://maps.google.com/?q=Balai Kartini Jakarta" target="_blank" class="text-primary-500 hover:text-primary-700 underline font-medium inline-flex items-center">Lihat di Google Maps <i class="fas fa-external-link-alt ml-2 text-sm"></i></a>
            </div>
        </div>

        <h3 class="text-2xl font-semibold text-primary-600 mb-3 font-display-serif">Hitung Mundur</h3>
        <div id="countdown" class="flex justify-center space-x-4 text-primary-700 font-bold text-3xl md:text-4xl animate-bounce-in bg-secondary-100 p-4 rounded-lg inline-flex shadow-inner">
            <div class="flex flex-col items-center">
                <span id="days" class="text-5xl">00</span>
                <p class="text-sm font-normal text-primary-600">Hari</p>
            </div>
            <div class="flex flex-col items-center">
                <span class="text-5xl">:</span>
            </div>
            <div class="flex flex-col items-center">
                <span id="hours" class="text-5xl">00</span>
                <p class="text-sm font-normal text-primary-600">Jam</p>
            </div>
            <div class="flex flex-col items-center">
                <span class="text-5xl">:</span>
            </div>
            <div class="flex flex-col items-center">
                <span id="minutes" class="text-5xl">00</span>
                <p class="text-sm font-normal text-primary-600">Menit</p>
            </div>
            <div class="flex flex-col items-center">
                <span class="text-5xl">:</span>
            </div>
            <div class="flex flex-col items-center">
                <span id="seconds" class="text-5xl">00</span>
                <p class="text-sm font-normal text-primary-600">Detik</p>
            </div>
        </div>
    </section>

    <section id="rsvp" class="section bg-white shadow-lg rounded-lg my-8 p-8 text-center animate-fade-in">
        <h2 class="text-3xl font-bold text-primary-700 mb-6 font-display-serif">Konfirmasi Kehadiran Anda</h2>
        <p class="text-text-dark mb-6 text-lg">Mohon konfirmasi kehadiran Anda agar kami bisa mempersiapkan dengan baik.</p>

        <form id="rsvpForm" class="max-w-md mx-auto">
            <div class="mb-4 text-left">
                <label for="name" class="block text-text-dark text-sm font-bold mb-2">Nama Lengkap:</label>
                <input type="text" id="name" name="name" required class="shadow appearance-none border rounded-lg w-full py-2 px-3 text-text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary-500">
            </div>
            <div class="mb-4 text-left">
                <label for="guests" class="block text-text-dark text-sm font-bold mb-2">Jumlah Tamu (termasuk Anda):</label>
                <input type="number" id="guests" name="guests" min="1" value="1" required class="shadow appearance-none border rounded-lg w-full py-2 px-3 text-text-dark leading-tight focus:outline-none focus:ring-2 focus:ring-primary-500">
            </div>
            <div class="mb-6 text-left">
                <label class="block text-text-dark text-sm font-bold mb-2">Kehadiran:</label>
                <div class="flex items-center mb-2">
                    <input type="radio" id="attend" name="attendance" value="attend" class="form-radio text-primary-600" required>
                    <label for="attend" class="ml-2 text-text-dark">Akan Hadir</label>
                </div>
                <div class="flex items-center">
                    <input type="radio" id="not-attend" name="attendance" value="not-attend" class="form-radio text-primary-600">
                    <label for="not-attend" class="ml-2 text-text-dark">Tidak Dapat Hadir</label>
                </div>
            </div>
            <button type="submit" class="bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                Kirim Konfirmasi <i class="fas fa-paper-plane ml-2"></i>
            </button>
        </form>
    </section>

    <section id="gallery" class="section bg-secondary-50 rounded-lg my-8 p-8 text-center shadow-lg animate-fade-in">
        <h2 class="text-3xl font-bold text-primary-700 mb-6 font-display-serif">Momen Kami</h2>
        <div class="flower-divider"></div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <img src="https://placehold.co/400x300/F4E0C0/8C5B42?text=Momen+1" alt="Momen Indah 1" class="w-full h-auto object-cover rounded-lg shadow-md transform hover:scale-105 transition duration-300 cursor-pointer gallery-item" data-caption="Senja Pertama Kita">
            <img src="https://placehold.co/400x300/ECCBA5/8C5B42?text=Momen+2" alt="Momen Indah 2" class="w-full h-auto object-cover rounded-lg shadow-md transform hover:scale-105 transition duration-300 cursor-pointer gallery-item" data-caption="Canda Tawa di Taman">
            <img src="https://placehold.co/400x300/D8A97E/8C5B42?text=Momen+3" alt="Momen Indah 3" class="w-full h-auto object-cover rounded-lg shadow-md transform hover:scale-105 transition duration-300 cursor-pointer gallery-item" data-caption="Janji di Bawah Bintang">
            <img src="https://placehold.co/400x300/BF876B/FDFCEE?text=Momen+4" alt="Momen Indah 4" class="w-full h-auto object-cover rounded-lg shadow-md transform hover:scale-105 transition duration-300 cursor-pointer gallery-item" data-caption="Perjalanan Tak Terlupakan">
            <img src="https://placehold.co/400x300/A86F58/FDFCEE?text=Momen+5" alt="Momen Indah 5" class="w-full h-auto object-cover rounded-lg shadow-md transform hover:scale-105 transition duration-300 cursor-pointer gallery-item" data-caption="Setia Selamanya">
            <img src="https://placehold.co/400x300/8C5B42/FDFCEE?text=Momen+6" alt="Momen Indah 6" class="w-full h-auto object-cover rounded-lg shadow-md transform hover:scale-105 transition duration-300 cursor-pointer gallery-item" data-caption="Hari Bahagia Kita">
        </div>
    </section>

    <div id="galleryModal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[999] hidden">
        <div class="relative max-w-3xl max-h-[90vh] p-4 text-center">
            <img id="modalImage" src="" alt="Zoomed Image" class="max-w-full max-h-full object-contain rounded-lg shadow-xl">
            <p id="modalCaption" class="text-white text-lg mt-4"></p>
            <button class="absolute top-2 right-2 text-white text-4xl font-bold p-2 leading-none" onclick="closeModal()">×</button>
        </div>
    </div>

    <section id="greetings" class="section bg-white shadow-lg rounded-lg my-8 p-8 text-center animate-fade-in">
        <h2 class="text-3xl font-bold text-primary-700 mb-6 font-display-serif">Ucapan & Doa</h2>
        <p class="text-text-dark mb-6 text-lg">Berikan ucapan dan doa terbaik Anda untuk kami.</p>

        <div class="space-y-4 max-w-md mx-auto">
            <div class="bg-primary-50 p-4 rounded-lg text-left shadow-sm border-l-4 border-primary-200">
                <p class="font-semibold text-primary-600 mb-1">Budi & Ani</p>
                <p class="text-text-dark text-sm italic">"Selamat menempuh hidup baru Aulia & Hilmi! Semoga langgeng dan selalu berbahagia." <i class="fas fa-quote-right ml-1 text-xs text-primary-400"></i></p>
            </div>
            <div class="bg-primary-50 p-4 rounded-lg text-left shadow-sm border-l-4 border-primary-200">
                <p class="font-semibold text-primary-600 mb-1">Citra</p>
                <p class="text-text-dark text-sm italic">"Selamat atas pernikahannya! Semoga cinta kalian abadi hingga kakek nenek." <i class="fas fa-quote-right ml-1 text-xs text-primary-400"></i></p>
            </div>
            </div>

        <button onclick="showMessage('Fitur kirim ucapan akan segera hadir!', 'info')" class="mt-8 bg-primary-500 hover:bg-primary-600 text-white font-bold py-2 px-6 rounded-full shadow transition duration-300 ease-in-out">
            Kirim Ucapan Anda <i class="fas fa-edit ml-2"></i>
        </button>
    </section>

    <section class="section text-center py-10 bg-primary-700 text-white rounded-lg my-8 shadow-lg animate-fade-in">
        <h2 class="text-3xl font-bold mb-4 font-display-serif">Terima Kasih</h2>
        <p class="text-lg">Atas doa dan restu Anda, kami ucapkan terima kasih yang tulus.</p>
        <p class="text-lg italic mt-2">"Setiap kisah cinta itu indah, tapi kisah kita adalah favoritku."</p> <p class="text-xl font-semibold mt-4 font-display-serif">Aulia & Hilmi</p>
        <div class="mt-8">
            <i class="fas fa-heart text-white text-3xl animate-pulse"></i>
        </div>
    </section>

    <footer class="text-center py-6 text-text-light text-sm">
        © 2025 Undangan Pernikahan Aulia & Hilmi. Dibuat dengan <i class="fas fa-heart text-accent-pink mx-1"></i>.
    </footer>

    <script>
        // Load the IFrame Player API code asynchronously.
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player; // YouTube player object

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '315',
                width: '560',
                videoId: 'VeyVmOXVd6w', // GANTI DENGAN ID VIDEO YOUTUBE ANDA
                playerVars: {
                    'autoplay': 0, // Jangan autoplay
                    'controls': 1, // Tampilkan kontrol
                    'showinfo': 0, // Jangan tampilkan info video
                    'rel': 0, // Jangan tampilkan video terkait
                    'modestbranding': 1 // Tampilkan logo YouTube kecil
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            // event.target.playVideo(); // Jangan play otomatis saat ready
            console.log("YouTube Player is ready.");
        }

        function onPlayerStateChange(event) {
            const playPauseButton = document.getElementById('playPauseButton');
            if (event.data == YT.PlayerState.PLAYING) {
                playPauseButton.innerHTML = '<i class="fas fa-pause"></i>';
            } else {
                playPauseButton.innerHTML = '<i class="fas fa-play"></i>';
            }
        }

        // Fungsi untuk smooth scroll ke bagian tertentu
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // Countdown Timer
        // TANGGAL AKAN DATANG: Untuk menguji hitung mundur, ubah ke tanggal di masa depan
        const countdownDate = new Date("Dec 07, 2025 09:00:00").getTime(); // Misal: 7 Desember 2025
        // TANGGAL LALU: Jika Anda ingin acara sudah berlalu
        // const countdownDate = new Date("Dec 07, 2024 09:00:00").getTime(); // Tetap 7 Desember 2024

        console.log("Countdown Date set to:", new Date(countdownDate)); // Debug: tanggal target

        const x = setInterval(function() {
            const now = new Date().getTime();
            const distance = countdownDate - now;

            console.log("Current distance:", distance); // Debug: nilai jarak waktu

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            const elDays = document.getElementById("days");
            const elHours = document.getElementById("hours");
            const elMinutes = document.getElementById("minutes");
            const elSeconds = document.getElementById("seconds");
            const elCountdown = document.getElementById("countdown");

            if (elDays && elHours && elMinutes && elSeconds) { // Periksa semua elemen span
                if (distance > 0) { // Jika acara belum berlalu, tampilkan angka
                    console.log("Countdown elements found. Updating numbers."); // Debug: elemen ditemukan
                    elDays.innerHTML = String(days).padStart(2, '0');
                    elHours.innerHTML = String(hours).padStart(2, '0');
                    elMinutes.innerHTML = String(minutes).padStart(2, '0');
                    elSeconds.innerHTML = String(seconds).padStart(2, '0');
                } else { // Jika acara sudah berlalu, tampilkan pesan
                    console.log("Countdown has passed. Displaying 'Acara Sedang Berlangsung!'"); // Debug: acara sudah berlalu
                    clearInterval(x);
                    if (elCountdown) { // Pastikan elemen countdown ditemukan
                        elCountdown.innerHTML = "<p class='text-2xl'>Acara Sedang Berlangsung!</p>";
                        elCountdown.classList.remove('animate-bounce-in'); // Hapus animasi bounce-in
                    } else {
                        console.error("Countdown div (#countdown) not found for final message."); // Debug: div utama tidak ditemukan
                    }
                }
            } else {
                console.warn("Countdown elements not found. Stopping countdown."); // Debug: elemen tidak ditemukan
                clearInterval(x);
                // Fallback jika elemen tidak ditemukan sama sekali, tapi div countdown utama ada
                if (elCountdown && distance < 0) {
                    elCountdown.innerHTML = "<p class='text-2xl'>Acara Sedang Berlangsung!</p>";
                    elCountdown.classList.remove('animate-bounce-in');
                }
            }
        }, 1000);

        // Fungsi untuk menampilkan pesan pop-up (mengganti alert)
        function showMessage(message, type = 'success') {
            const messageBox = document.getElementById('messageBox');
            messageBox.textContent = message;
            messageBox.classList.remove('error', 'success', 'show'); // Reset classes
            messageBox.classList.add(type);
            messageBox.classList.add('show'); // Trigger transition

            setTimeout(() => {
                messageBox.classList.remove('show'); // Hide with transition
                setTimeout(() => { // Completely hide after transition
                    messageBox.style.display = 'none';
                }, 300); // Should match CSS transition duration
            }, 3000); // Pesan akan hilang setelah 3 detik
        }

        // Penanganan Submit Form RSVP
        document.getElementById('rsvpForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Mencegah form reload halaman

            const name = document.getElementById('name').value;
            const guests = document.getElementById('guests').value;
            const attendance = document.querySelector('input[name="attendance"]:checked');

            if (!name || !guests || !attendance) {
                showMessage('Harap lengkapi semua bidang form RSVP.', 'error');
                return;
            }

            const attendanceStatus = attendance.value === 'attend' ? 'Akan Hadir' : 'Tidak Dapat Hadir';

            console.log(`RSVP Diterima: Nama - ${name}, Tamu - ${guests}, Kehadiran - ${attendanceStatus}`);
            showMessage('Konfirmasi kehadiran Anda telah diterima! Terima kasih.', 'success');

            this.reset();
        });

        // Particle Effect for Hero Section (JavaScript) - Modified for subtle floating elements
        const particleContainer = document.querySelector('.particle-container');

        function createFloatingElement() {
            const element = document.createElement('div');
            element.classList.add('floating-ornament'); // New class for different animation
            // Using a simple unicode character or a small SVG for a subtle design
            const ornaments = ['✦', '✧', '✨', '♥', '❀', '✿']; // Sparkle/star/heart/flower emojis
            element.innerHTML = ornaments[Math.floor(Math.random() * ornaments.length)];
            element.style.fontSize = `${Math.random() * 10 + 8}px`; // Size between 8px and 18px
            element.style.color = `rgba(255, 255, 255, ${Math.random() * 0.5 + 0.3})`; // Subtle white/translucent
            element.style.left = `${Math.random() * 100}%`;
            element.style.animationDuration = `${Math.random() * 10 + 10}s`; // Slower duration
            element.style.animationDelay = `-${Math.random() * 10}s`; // Start at random points
            // Set random X translation for animation for variety
            element.style.setProperty('--random-x', `${Math.random() * 20 - 10}px`); // -10px to +10px horizontal shift
            particleContainer.appendChild(element);

            element.addEventListener('animationend', () => {
                element.remove();
            });
        }

        // Generate floating elements periodically
        setInterval(createFloatingElement, 500); // Create a new element every 500ms

        // Gallery Modal Logic with Caption (UPDATED)
        const galleryItems = document.querySelectorAll('.gallery-item');
        const galleryModal = document.getElementById('galleryModal');
        const modalImage = document.getElementById('modalImage');
        const modalCaption = document.getElementById('modalCaption'); // Dapatkan elemen caption

        galleryItems.forEach(item => {
            item.addEventListener('click', () => {
                modalImage.src = item.src;
                modalCaption.textContent = item.dataset.caption || ''; // Set caption dari data-caption
                galleryModal.classList.remove('hidden');
            });
        });

        function closeModal() {
            galleryModal.classList.add('hidden');
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !galleryModal.classList.contains('hidden')) {
                closeModal();
            }
        });

        galleryModal.addEventListener('click', (e) => {
            if (e.target === galleryModal) {
                closeModal();
            }
        });

        // Music Popup Logic (BARU)
        const musicToggleSide = document.getElementById('musicToggleSide');
        const musicPopup = document.getElementById('musicPopup');
        const closePopupButtons = document.querySelectorAll('.close-popup');
        const playPauseButton = document.getElementById('playPauseButton');

        musicToggleSide.addEventListener('click', () => {
            musicPopup.classList.remove('hidden');
            // Play video when popup opens
            if (player && typeof player.playVideo === 'function') {
                player.playVideo();
            }
        });

        closePopupButtons.forEach(button => {
            button.addEventListener('click', () => {
                musicPopup.classList.add('hidden');
                // Pause video when popup closes
                if (player && typeof player.pauseVideo === 'function') {
                    player.pauseVideo();
                }
            });
        });

        playPauseButton.addEventListener('click', () => {
            if (player && typeof player.getPlayerState === 'function') {
                if (player.getPlayerState() == YT.PlayerState.PLAYING) {
                    player.pauseVideo();
                } else {
                    player.playVideo();
                }
            }
        });


        // Sticky Navbar with background change (NEW)
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('nav');
            const heroSection = document.getElementById('home');
            // Menghitung tinggi area sebelum navbar menjadi solid.
            // Bisa berupa tinggi heroSection, atau nilai spesifik
            const scrollThreshold = heroSection.offsetHeight - navbar.offsetHeight - 50; // 50px buffer

            if (window.scrollY > scrollThreshold) {
                navbar.classList.add('bg-white', 'shadow-md', 'text-text-dark'); // Tambah warna dan bayangan, teks gelap
                navbar.classList.remove('bg-transparent', 'text-white'); // Hapus transparan, teks putih
            } else {
                navbar.classList.remove('bg-white', 'shadow-md', 'text-text-dark'); // Hapus warna dan bayangan, teks gelap
                navbar.classList.add('bg-transparent', 'text-white'); // Tambah transparan, teks putih
            }
        });

        // Set initial state of navbar on load
        document.addEventListener('DOMContentLoaded', () => {
            const navbar = document.querySelector('nav');
            const heroSection = document.getElementById('home');
            const scrollThreshold = heroSection.offsetHeight - navbar.offsetHeight - 50;

            if (window.scrollY <= scrollThreshold) {
                navbar.classList.add('bg-transparent', 'text-white');
            }
        });

    </script>
</body>
</html>